import { Callout } from 'components'

# GraphQL

Fetching data from the blockchain can be a challenging task, especially when using historical nodes to obtain outdated
data and fetching additional data from contracts while adjusting IPFS data. To simplify this process and make it more
efficient, Azuro provides Subgraphs, which is a GraphQL-based query layer that enables you to fetch all the necessary
data for building a complete bookmaker application.

Subgraphs have a number of advantages, including improved query performance, support for complex queries and relationships,
and built-in pagination and filtering. However, there are some limitations to using Subgraphs, such as limited access to
historical data.

[//]: # (If you are an experienced developer and require access to historical data or need to customize your queries beyond)

[//]: # (what is available in Subgraphs, you can explore other methods for obtaining data directly from the blockchain.)

[//]: # ([Explore other methods]&#40;#&#41;)

## Endpoints

Gnosis: https://thegraph.azuro.org/subgraphs/name/azuro-protocol/azuro-api-gnosis/graphql<br />
Polygon: https://thegraph.azuro.org/subgraphs/name/azuro-protocol/azuro-api-polygon/graphql


## Specificity

Here are some important notes regarding the use of TheGraph Subgraphs in Azuro:

1. Azuro builds its GraphQL queries using TheGraph Subgraphs. If you are not familiar with TheGraph, we recommend that
you read [the official documentation](https://thegraph.com/docs/en/about/) to gain a better understanding of it.

2. TheGraph has a limit of returning a maximum of 1000 elements per request, with a default of 100 elements. Keep this
limit in mind when building your queries. [Read how to paginate](https://thegraph.com/docs/en/querying/graphql-api/#pagination).

3. TheGraph uses a unique `id: ID!` (TheGraph Ids) for @entity directives in schemas. These ids are technical and do not
correspond to Azuro entities. Azuro entities use prefixes in their ids (Azuro Ids), such as `sportId` for sports
and `gameId` for games. Avoid using `id` if it is not necessary.

4. Some entities may have the same Azuro Ids. For example, there can be two games with the same `gameId`. You can read
more about why this happens in the conditions documentation. If you need to fetch data for a specific game, you can use
additional properties as query filters, such as `sportId` or `leagueId`. However, it is best to use the id (TheGraph Id)
as it is unique for each game.

5. When working with Subgraphs, all address values are stored in lowercase. This means that when passing variables to
queries, it's important to convert the transmitted value to lowercase, or use the `_contains_nocase` postfix.


## Queries

<Callout type="warning" emoji="⚠️">
  This block is in the process of writing.
</Callout>
