import { Callout } from 'components'

Hook is used for maintain updated odds for selections by subscribing to changes in odds.

#### Usage

Initialize watcher in the root of your app.

```ts
import { useOddsWatcher } from '@azuro-org/sdk'

export function Watchers() {
  useOddsWatcher()

  return null
}
```

Subscribe to changes in your outcome.

```ts
import { useSelectionOdds } from '@azuro-org/sdk'

const odds = useSelectionOdds({
  selection: {
    conditionId: '486903008559711340',
    outcomeId: '29',
  }
  initialOdds: '2.2',
})
```

<Callout type="info">
Example of usage: Outcome button.<br/>

We've fetched markets with outcomes and rendered a button for each outcome. The `useSelectionOdds` hook provides a way to keep the odds updated for outcome button. [Full Example](https://github.com/Azuro-protocol/sdk/blob/main/examples/nextjs/src/components/OutcomeButton.tsx)

```ts
import { type MarketOutcome, useSelectionOdds } from '@azuro-org/sdk'


type OutcomeProps = {
  outcome: MarketOutcome
}

function OutcomeButton(props: OutcomeProps) {
  const { outcome } = props

  const odds = useSelectionOdds({
    selection: outcome,
    initialOdds: outcome.odds,
  })

  return (
    <button>
      <span>{outcome.selectionName}</span>
      <span>{odds}</span>
    </button>
  )
}
```
</Callout>

#### useSelectionOdds Props

```ts
{
  selection: Selection
  initialOdds?: string
}
```

```ts
type Selection = {
  conditionId: string | bigint
  outcomeId: string | bigint
}
```

#### useSelectionOdds Return Value

`string`
